{% extends 'cms/template.html' %}

{% block content %}
	
	<a href="{% url 'user-add' %}" class="btn btn-success" style="margin-bottom: 20px;">Add New User</a>

	{% if user %}
		<table class="table table-hover">
			<thead>
				<tr>
					<td>ID</td>
					<td>Username</td>
					<td>First Name</td>
					<td>Last Name</td>
					<td>Email</td>
					<td>Date Joined</td>
					<td>Actions</td>
				</tr>
			</thead>
			<tbody>
				{% for user in users %}
				<tr class="{% if user.is_active == False %}danger{% endif %}">
					<td>
						{{ user.id }}
					</td>
					<td>
						<a href="{% url 'user-view' id=user.id %}">{{ user.username }}</a>
					</td>
					<td>
						{{ user.first_name }}
					</td>
					<td>
						{{ user.last_name }}
					</td>
					<td>
						{{ user.email }}
					</td>
					<td>
						{{ user.date_joined }}
					</td>
					<td>
						<a href="{% url 'user-view' id=user.id %}" type="button" class="btn btn-info">View</a>
						<a href="{% url 'user-edit' id=user.id %}" type="button" class="btn btn-warning">Edit</a>
						{% if user.is_active == True %}
						<a href="{% url 'user-deactivate' id=user.id %}" type="button" class="btn btn-danger">Deactivate</a>
						{% else %}
						<a href="{% url 'user-activate' id=user.id %}" type="button" class="btn btn-success">Activate</a>
						{% endif %}
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>

	{% else %}
		<p>No users found.</p>
	{% endif %}

{% endblock content %}